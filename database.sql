
-- USER is a reserved keyword with Postgres
-- You must use double quotes in every query that user is in:
-- ex. SELECT * FROM "user";
-- Otherwise you will have errors!
CREATE TABLE "user" (
    "id" SERIAL PRIMARY KEY,
    "username" VARCHAR (80) UNIQUE NOT NULL,
    "password" VARCHAR (1000) NOT NULL
);

-- My Running Journal

-- database name: my_running_journal
-- database setup and test data creation

-- Drop Tables
--- Drop "activities" table
DROP TABLE IF EXISTS "activities";

--- Drop "users" table
DROP TABLE IF EXISTS "users" CASCADE;

--- Drop "permissions" table
DROP TABLE IF EXISTS "permissions";

--- Drop "genders" table
DROP TABLE IF EXISTS "genders";

--- Drop "states" table
DROP TABLE IF EXISTS "states";


-- Create Tables
--- Create "permissions" table
CREATE TABLE "permissions" (
  "id" SERIAL PRIMARY KEY,
  "role" VARCHAR(32) DEFAULT 3  -- All users assigned a role of "user" by default when registering
);

--- Create "genders" table
CREATE TABLE "genders" (
  "id" SERIAL PRIMARY KEY,
  "gender" VARCHAR(32)
);

--- Create "states" table
CREATE TABLE "states" (
  "id" SERIAL PRIMARY KEY,
  "state" VARCHAR(32)
);

--- Create "users" table
CREATE TABLE "users" (
  "id" SERIAL PRIMARY KEY,
  "first_name" VARCHAR(128),
  "last_name" VARCHAR(128),
  "birthdate" DATE,
  "gender" INT REFERENCES "genders",
  "city" VARCHAR(128),
  "state" INT REFERENCES "states",
  "country" VARCHAR(128),
  "username" VARCHAR(128),
  "password" VARCHAR(256),
  "authLevel" INT REFERENCES "permissions"
);

-- Create "activities" table
CREATE TABLE "activities" (
  "id" SERIAL PRIMARY KEY,
  "user_id" INT REFERENCES "users" ON DELETE CASCADE,
  "date" DATE,
  "route" VARCHAR(256),
  "distance" DECIMAL,
  "time" INTERVAL,
  "mph" DECIMAL,
  "pace" INTERVAL,
  "notes" VARCHAR(2048)
);


-- Configure set tables
--- Set "permissions" levels
INSERT INTO "permissions"
  ("role")
VALUES
  ('Admin'),
  ('Employee'),
  ('User');

--- Set "genders" options
INSERT INTO "genders"
  ("gender")
VALUES
  ('Female'),
  ('Male'),
  ('Non-binary'),
  ('Prefer Not to Answer');

  --- Set "states" options
INSERT INTO "states"
  ("state")
VALUES
  ('Alabama'), ('Alaska'), ('Arizona'), ('Arkansas'), ('California'), ('Colorado'), ('Connecticut'), ('Delaware'),
  ('Florida'), ('Georgia'), ('Hawaii'), ('Idaho'), ('Illinois'), ('Indiana'), ('Iowa'), ('Kansas'), ('Kentucky'),
  ('Louisiana'), ('Maine'), ('Maryland'), ('Massachusetts'), ('Michigan'), ('Minnesota'), ('Mississippi'),
  ('Missouri'), ('Montana'), ('Nebraska'), ('Nevada'), ('New Hampshire'), ('New Jersey'), ('New Mexico'), ('New York'),
  ('North Carolina'), ('North Dakota'), ('Ohio'), ('Oklahoma'), ('Oregon'), ('Pennsylvania'), ('Rhode Island'),
  ('South Carolina'), ('South Dakota'), ('Tennessee'), ('Texas'), ('Utah'), ('Vermont'), ('Virginia'), ('Washington'),
  ('West Virginia'), ('Wisconsin'), ('Wyoming');


-- Load Test / Sample Data
--- Populate "users" table
INSERT INTO "users"
  ("first_name", "last_name", "gender", "birthdate", "city", "state", "country", "username", "password", "authLevel")
VALUES
  ('William', 'Krug', 2, '08/10/1984', 'New Brighton', 23, 'United States', 'gearwrench171', 'Bruc3Wayn#', 1),
  ('Mark', 'Krug', 2, '11/16/1958', 'Northfield', 23, 'United States', 'fleetfoot', 'run4life', 2),
  ('Jenny', 'Tutone', 1, '12/12/02', 'Casper', 50, 'Canada', 'songs', '8675309', 3),
  ('Roxy', 'Star', 1, '07/23/1993', 'Charming', 5, 'United States', 'soa', 'jax', 3),
  ('Ashley', 'Jones', 3, '08/10/1977', 'New York', 32, 'United States', 'ladyLiberty', 'BigApple', 3);

--- Populate "activities" table 
---- for user_id = 1
INSERT INTO "activities"
  ("user_id", "date", "route", "distance", "time", "mph", "pace", "notes")
VALUES
  (1, '01/05/2020', 'Secret Path', 2.80, '0:29:15', 5.74, '10:27', ''),
  (1, '01/06/2020', 'Treadmill', 3.14, '0:30:00', 6.28, '09:33', 'I hate the dreadmill'),
  (1, '01/08/2020', 'Treadmill', 3.18, '0:30:00', 6.36, '09:26', ''),
  (1, '01/10/2020', 'Treadmill', 3.18, '0:30:00', 6.36, '09:26', ''),
  (1, '01/12/2020', 'Bonduel 4', 4.00, '0:38:35', 6.22, '09:39', ''),
  (1, '01/13/2020', 'Treadmill', 3.17, '0:30:00', 6.34, '09:28', ''),
  (1, '01/15/2020', 'Treadmill', 3.14, '0:30:00', 6.28, '09:33', ''),
  (1, '01/17/2020', 'Treadmill', 3.23, '0:30:00', 6.46, '09:17', ''),
  (1, '01/19/2020', '', 5.00, '0:49:12', 6.10, '09:50', ''),
  (1, '01/20/2020', 'Treadmill', 3.23, '0:30:00', 6.46, '09:17', ''),
  (1, '01/22/2020', 'Treadmill', 3.29, '0:30:00', 6.58, '09:07', ''),
  (1, '01/24/2020', 'Treadmill', 3.29, '0:30:00', 6.58, '09:07', ''),
  (1, '01/25/2020', '', 4.50, '0:43:48', 6.16, '09:44', ''),
  (1, '01/27/2020', 'Treadmill', 3.29, '0:30:00', 6.58, '09:07', ''),
  (1, '01/29/2020', 'Treadmill', 3.14, '0:30:00', 6.28, '09:33', ''),
  (1, '01/31/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', 'Sub-9s Booya baby!'),
  (1, '02/02/2020', 'Irondale', 6.00, '0:58:22', 6.17, '09:44', ''),
  (1, '02/03/2020', 'Treadmill', 2.50, '0:30:00', 5.00, '12:00', ''),
  (1, '02/05/2020', 'Treadmill', 3.20, '0:30:00', 6.40, '09:23', ''),
  (1, '02/07/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '02/09/2020', 'Long Lake', 7.00, '1:04:52', 6.47, '09:16', ''),
  (1, '02/10/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '02/12/2020', 'Treadmill', 3.28, '0:30:00', 6.56, '09:09', ''),
  (1, '02/14/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '02/16/2020', 'Irondale', 6.00, '0:57:23', 6.27, '09:34', ''),
  (1, '02/17/2020', 'Treadmill', 3.21, '0:30:00', 6.42, '09:21', ''),
  (1, '02/19/2020', 'Treadmill', 3.24, '0:30:00', 6.48, '09:16', ''),
  (1, '02/21/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '02/23/2020', 'Long Lake', 7.00, '1:04:08', 6.55, '09:10', ''),
  (1, '02/24/2020', 'Treadmill', 2.00, '0:18:00', 6.67, '09:00', ''),
  (1, '02/26/2020', 'Treadmill', 3.30, '0:30:00', 6.60, '09:05', ''),
  (1, '02/28/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '03/01/2020', 'Irondale', 6.00, '0:54:38', 6.59, '09:06', ''),
  (1, '03/02/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '03/04/2020', 'Treadmill', 3.50, '0:30:00', 7.00, '08:34', ''),
  (1, '03/06/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '03/08/2020', '', 7.12, '1:02:31', 6.83, '08:47', ''),
  (1, '03/10/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '03/11/2020', 'Treadmill', 3.23, '0:30:00', 6.46, '09:17', ''),
  (1, '03/13/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '03/15/2020', '', 7.50, '1:12:55', 6.17, '09:43', ''),
  (1, '03/16/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '03/18/2020', 'Treadmill', 3.36, '0:30:00', 6.72, '08:56', ''),
  (1, '03/20/2020', 'Treadmill', 3.36, '0:30:00', 6.72, '08:56', ''),
  (1, '03/22/2020', 'Long Lake', 7.00, '1:06:21', 6.33, '09:29', ''),
  (1, '03/23/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '03/25/2020', 'Treadmill', 3.42, '0:30:00', 6.84, '08:46', ''),
  (1, '03/27/2020', 'Treadmill', 3.43, '0:30:00', 6.86, '08:45', ''),
  (1, '03/29/2020', 'Old Hwy 10', 8.27, '1:20:39', 6.15, '09:45', 'Deer'),
  (1, '03/30/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '04/01/2020', 'Treadmill', 3.26, '0:30:00', 6.52, '09:12', ''),
  (1, '04/03/2020', 'Treadmill', 3.35, '0:30:00', 6.62, '09:04', ''),
  (1, '04/05/2020', 'Old Hwy 10', 8.27, '1:19:23', 6.25, '09:36', ''),
  (1, '04/06/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '04/08/2020', 'Treadmill', 3.41, '0:30:00', 6.82, '08:48', ''),
  (1, '04/10/2020', 'Treadmill', 3.37, '0:30:00', 6.74, '08:54', ''),
  (1, '04/12/2020', 'Irondale', 6.00, '0:58:08', 6.19, '09:41', ''),
  (1, '04/13/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '04/15/2020', 'Treadmill', 3.48, '0:30:00', 6.96, '08:37', ''),
  (1, '04/17/2020', 'Treadmill', 3.45, '0:30:00', 6.90, '08:42', ''),
  (1, '04/19/2020', 'Old Hwy 10', 8.27, '1:18:38', 6.31, '09:30', ''),
  (1, '04/20/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '04/22/2020', 'Treadmill', 3.38, '0:30:00', 6.76, '08:53', ''),
  (1, '04/24/2020', 'Treadmill', 3.48, '0:30:00', 6.96, '08:37', ''),
  (1, '04/26/2020', 'Old Hwy 10', 8.27, '1:21:41', 6.07, '09:53', ''),
  (1, '04/27/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '04/29/2020', 'Treadmill', 3.45, '0:30:00', 6.90, '08:42', ''),
  (1, '05/01/2020', 'Treadmill', 3.50, '0:30:00', 7.00, '08:34', ''),
  (1, '05/03/2020', 'Fridley', 9.23, '1:30:29', 6.12, '09:48', 'Use bridge, drivers suck'),
  (1, '05/04/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:87', ''),
  (1, '05/06/2020', 'Treadmill', 3.46, '0:30:00', 6.92, '08:40', ''),
  (1, '05/08/2020', 'Treadmill', 3.52, '0:30:00', 7.04, '08:31', ''),
  (1, '05/10/2020', 'Fridley', 9.23, '1:32:43', 5.97, '10:03', ''),
  (1, '05/11/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '05/13/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '05/15/2020', 'Treadmill', 3.55, '0:30:00', 7.1, '08:27', ''),
  (1, '05/17/2020', 'Fridley', 9.23, '1:28:12', 6.28, '09:33', ''),
  (1, '05/18/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '05/20/2020', 'Treadmill', 3.49, '0:30:00', 6.98, '08:36', ''),
  (1, '05/25/2020', 'Treadmill', 2.00, '0:18:00', 6.67, '09:00', ''),
  (1, '05/27/2020', 'Treadmill', 3.46, '0:30:00', 6.92, '08:40', ''),
  (1, '05/29/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '05/31/2020', 'Fridley', 9.23, '1:29:12', 6.21, '09:40', 'So much rain'),
  (1, '06/01/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '06/03/2020', 'Treadmill', 3.50, '0:30:00', 7.00, '08:34', ''),
  (1, '06/05/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '06/08/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '06/10/2020', 'Treadmill', 3.51, '0:30:00', 7.02, '08:33', ''),
  (1, '06/12/2020', 'Treadmill', 3.47, '0:30:00', 6.94, '08:39', ''),
  (1, '06/15/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '06/17/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '06/20/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '06/21/2020', 'Rice Creek', 6.00, '0:58:53', 6.11, '09:49', ''),
  (1, '06/22/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '06/24/2020', 'Treadmill', 3.51, '0:30:00', 7.02, '08:33', ''),
  (1, '06/26/2020', 'Treadmill', 3.33, '0:30:00', 6.66, '09:01', ''),
  (1, '06/28/2020', 'Long Lake', 7.03, '1:04:28', 6.54, '09:10', ''),
  (1, '06/29/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '07/01/2020', 'Treadmill', 3.48, '0:30:00', 6.96, '08:37', ''),
  (1, '07/03/2020', 'Treadmill', 2.80, '0:30:00', 5.60, '10:43', ''),
  (1, '07/06/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '07/08/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '07/10/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '07/12/2020', 'Rice Creek', 6.00, '0:56:52', 6.33, '09:29', ''),
  (1, '07/13/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '07/15/2020', 'Treadmill', 3.54, '0:30:00', 7.08, '08:28', ''),
  (1, '07/17/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '07/19/2020', 'Old Hwy 10', 8.27, '1:17:37', 6.39, '09:23', ''),
  (1, '07/20/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '07/22/2020', 'Treadmill', 3.51, '0:30:00', 7.02, '08:33', ''),
  (1, '07/24/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '07/27/2020', 'Treadmill', 2.50, '0:25:00', 6.00, '10:00', ''),
  (1, '08/02/2020', '', 6.20, '1:00:42', 6.13, '09:47', ''),
  (1, '08/03/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '08/05/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '08/07/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '08/09/2020', '', 7.03, '1:08:23', 6.17, '09:44', ''),
  (1, '08/10/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '08/12/2020', 'Treadmill', 3.51, '0:30:00', 7.02, '08:33', ''),
  (1, '08/14/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '08/16/2020', '', 8.00, '1:18:03', 6.15, '09:45', ''),
  (1, '08/17/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '08/19/2020', 'Treadmill', 3.51, '0:30:00', 7.02, '08:33', ''),
  (1, '08/21/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '08/23/2020', 'Fridley', 9.23, '1:29:11', 6.21, '09:40', ''),
  (1, '08/24/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '08/26/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '08/28/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '08/30/2020', 'Rice Creek', 6.00, '0:56:28', 6.38, '09:25', ''),
  (1, '08/31/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '09/02/2020', 'Treadmill', 3.52, '0:30:00', 7.04, '08:31', ''),
  (1, '09/06/2020', 'Long Lake Park', 8.53, '1:23:45', 6.11, '09:49', ''),
  (1, '09/09/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '09/11/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '09/12/2020', '', 3.10, '0:29:27', 6.32, '09:30', ''),
  (1, '09/14/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '09/16/2020', 'Treadmill', 3.36, '0:30:00', 6.72, '08:56', ''),
  (1, '09/18/2020', 'Treadmill', 3.55, '0:30:00', 7.10, '08:27', ''),
  (1, '09/20/2020', 'Silverwood', 8.96, '1:29:26', 6.01, '09:59', ''),
  (1, '09/21/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '09/23/2020', 'Treadmill', 3.51, '0:30:00', 7.02, '08:33', ''),
  (1, '09/25/2020', 'Treadmill', 3.45, '0:30:00', 6.90, '08:42', ''),
  (1, '09/27/2020', 'Lake Johanna', 10.10, '1:38:56', 6.13, '09:48', 'Beat 10'),
  (1, '09/28/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '09/30/2020', 'Treadmill', 3.50, '0:30:00', 7.00, '08:34', ''),
  
  (1, '10/02/2020', 'Treadmill', 3.50, '0:30:00', 6.70, '08:57', ''),
  (1, '10/04/2020', 'Long Lake', 7.03, '0:30:00', 6.70, '08:57', ''),
  (1, '10/05/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/07/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/09/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/11/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/12/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/14/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/16/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/18/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/19/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/21/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/23/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/25/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/26/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),
  (1, '10/28/2020', 'Treadmill', 3.35, '0:30:00', 6.70, '08:57', ''),